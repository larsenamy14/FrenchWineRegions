<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet Map with GeoJSON</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 1000px;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map and set its view
        var map = L.map('map').setView([46, 4.8], 6); // Centered on France

        // Add a tile layer (the base map)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // GeoJSON data for Northern and Southern Rhone
        var rhoneGeoJSON = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {
                        "name": "Northern Rhone"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [4.891864879302432, 45.53114695863968],
                                [4.676052775353156, 45.42833862116703],
                                [4.8335118524852305, 45.14132132847061],
                                [4.780996059193399, 44.91863889630429],
                                [4.967746157234046, 45.12502399947928],
                                [4.891864879302432, 45.53114695863968]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "name": "Southern Rhone"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [4.727319388938724, 44.51505664522915],
                                [3.7466758491241876, 44.2048291747559],
                                [4.2614062674858815, 43.59873914727254],
                                [4.7915357754122, 43.93056951483362],
                                [5.5071401252228895, 43.668942541212175],
                                [5.7733047270245095, 43.77335210973095],
                                [4.980744786544818, 44.45954140582981],
                                [4.727319388938724, 44.51505664522915]
                            ]
                        ]
                    }
                }
            ]
        };

        // GeoJSON data for "Left Bank" and "Right Bank"
        var BordeauxGeoJSON = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {
                        "name": "Left Bank"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [-1.0734084559576047, 45.5501008998757],
                                [-1.175440871136118, 45.26110621875176],
                                [-0.8964168468604328, 44.801972642015556],
                                [-0.25016059203099417, 44.358741928032146],
                                [0.19543373847437806, 44.460644720422835],
                                [-0.2569652404245062, 44.562556435801326],
                                [-0.49166453056915316, 44.73434682223592],
                                [-0.7195422207054492, 44.830929537513725],
                                [-0.5801286912424075, 44.94175934554718],
                                [-0.7025981855350665, 45.08124104506729],
                                [-0.7978484107701149, 45.32571921009142],
                                [-1.0734084559576047, 45.5501008998757]
                            ]
                        ]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {
                        "name": "Right Bank"
                    },
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [
                            [
                                [-0.715172729010618, 45.329254654584304],
                                [-0.6471179281194281, 45.09441191475955],
                                [-0.47705294354244643, 45.000691654774016],
                                [-0.579100906595869, 45.02714218315077],
                                [-0.5416869234598494, 44.93330953863148],
                                [-0.47363212130827037, 44.84174691125443],
                                [-0.5178519187630002, 44.8079724064647],
                                [-0.32058258898166514, 44.61461572216618],
                                [0.11812637521575198, 44.571062649643096],
                                [0.4003208386081383, 44.670340381253254],
                                [0.2813375490062242, 44.75248613153548],
                                [0.060248206527973025, 44.84161454765862],
                                [0.14522950045474659, 45.08705129255364],
                                [-0.715172729010618, 45.329254654584304]
                            ]
                        ]
                    }
                }
            ]
        };

        // GeoJSON data for Champagne
        var ChampagneGeoJSON = {
            "type":"FeatureCollection",
            "features": [
                {
                    "type":"Feature",
                    "properties": {
                        "name":"Champagne"
                    },
                    "geometry":{
                        "type":"Polygon",
                        "coordinates":[
                            [
                                [4.000881093026493,49.422042952938],
                                [3.6463170722284985,49.29019887095086],
                                [3.6465143168996406,49.22328841454214],
                                [3.6965468904876957,49.20195772098674],
                                [3.672509356722628,49.16369210700569],
                                [3.2875676529138786,49.00416636278513],
                                [3.3396169768934953,48.98278822747895],
                                [3.5878302403297937,49.03406111973419],
                                [3.9378478813989943,48.96418211608082],
                                [4.018291576582897,48.92993257460964],
                                [3.4877076787152532,48.61318894100691],
                                [3.6919998851255684,48.59009365368445],
                                [4.155317277135254,48.89419607043399],
                                [4.109657672959145,49.011351784438205],
                                [4.2727641917221035,49.166568525198784],
                                [4.333643553601007,49.341149035530066],
                                [4.000881093026493,49.422042952938]
                            ]
                        ]
                    }
                }
            ]
        };

        // Add the existing and new GeoJSON layers to the map
        L.geoJSON([rhoneGeoJSON, BordeauxGeoJSON, ChampagneGeoJSON], {
            style: function(feature) {
                return {
                    color: "#800000", // Dark red color for the borders
                    weight: 2,
                    fillOpacity: 0.5
                };
            },
            onEachFeature: function(feature, layer) {
                // Bind a popup to display the name of each wine region
                layer.bindPopup(`<strong>${feature.properties.name}</strong>`);

                // Optional: Open the popup when hovering over a region
                layer.on('mouseover', function(e) {
                    layer.openPopup();
                });
                layer.on('mouseout', function(e) {
                    layer.closePopup();
                });
            }
        }).addTo(map);
    </script>
</body>
</html>
